FROM node:22-bookworm

ENV SESSION_SECRET=c7b7939f8bfc1299f040cf6ded40442419aff3a4282c082f0725b7b7a204f1131e660c0ab0241ce53425b079a64763b7023ac8f57c9e4a5f1f48f055c2128244
ENV COOKIE_SECRET=3841c3e28fd63c482b870e286785dd0aa8002f7b47aae3f9a8d1bd77559e86ae1c922df7b02197c5749ae21bf3231da2d61a1411f12b0a4c4a2f40dbaebdfbd9
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY --chown=node:node . .
EXPOSE 3000
CMD ["node", "app.js"]